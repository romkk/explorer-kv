## 交易的状态变迁


### 四个状态

* accept 接收
* confirm 确认
* unconfirm 反确认
* reject 拒绝

### 一个交易的可能变迁路线

* accept -> confirm
  * 大部分交易都是这样
* accept -> confirm -> unconfirm -> confirm 
  * 接收并确认后，反确认为未确认，最后再被确认。链分叉时，会出现此情形
* accept -> reject
  * 接收后，但后来被拒绝。通常是双花交易，最终有进块的交易挤掉对应的双花交易
* accept -> confirm -> unconfirm -> reject
  * 块分叉会出现反确认，双花时会reject
  * 竞争失败的那条链上的coinbase交易


## 变迁日志示例

* confirm时，确定会有所确认块的信息

```
#
# accept -> confirm
#
2015-10-28 09:42:25,100,0,9000105709,n1xEnUAFurgfyCCP26hmR9JVqG15aQ9q4D,41000098767,0547b458c6f52c30ee2f5a0272edddca5a1d3ef9c238f3b6365ff2c305e06069,-5442492,-1,-1,0000000000000000000000000000000000000000000000000000000000000000
2015-10-28 09:42:25,100,0,13000064206,mumJXAheaCbUUQ7ZnAzJX77jC7hfiLeffg,41000098767,0547b458c6f52c30ee2f5a0272edddca5a1d3ef9c238f3b6365ff2c305e06069,178600,-1,-1,0000000000000000000000000000000000000000000000000000000000000000
2015-10-28 09:42:25,100,0,14000108758,mkqhAFF1o3jfJRoem4LeqteFkk5PGhHErf,41000098767,0547b458c6f52c30ee2f5a0272edddca5a1d3ef9c238f3b6365ff2c305e06069,5262747,-1,-1,0000000000000000000000000000000000000000000000000000000000000000
2015-10-28 09:55:52,200,0,9000105709,n1xEnUAFurgfyCCP26hmR9JVqG15aQ9q4D,41000098767,0547b458c6f52c30ee2f5a0272edddca5a1d3ef9c238f3b6365ff2c305e06069,-5442492,580458,580460,00000000b53725142e1e8e5d94a6265ab5b9bc25ffa7489cf0a495b66505e0b9
2015-10-28 09:55:52,200,0,13000064206,mumJXAheaCbUUQ7ZnAzJX77jC7hfiLeffg,41000098767,0547b458c6f52c30ee2f5a0272edddca5a1d3ef9c238f3b6365ff2c305e06069,178600,580458,580460,00000000b53725142e1e8e5d94a6265ab5b9bc25ffa7489cf0a495b66505e0b9
2015-10-28 09:55:52,200,0,14000108758,mkqhAFF1o3jfJRoem4LeqteFkk5PGhHErf,41000098767,0547b458c6f52c30ee2f5a0272edddca5a1d3ef9c238f3b6365ff2c305e06069,5262747,580458,580460,00000000b53725142e1e8e5d94a6265ab5b9bc25ffa7489cf0a495b66505e0b9

#
# accept -> confirm -> unconfim -> confirm
#
2015-10-28 04:20:16,100,0,15000103577,2N16oE62ZjAPup985dFBQYAuy5zpDraH7Hk,49000098644,77d1cfeb74917f120ad3c1161ecef678e2031b468e1f3842fad8297b74f9d8f1,17385029,-1,-1,0000000000000000000000000000000000000000000000000000000000000000
2015-10-28 04:20:16,100,0,57000109764,mu6paikvq9KzLDCMtRAUKMu7j1FMTfEuqf,49000098644,77d1cfeb74917f120ad3c1161ecef678e2031b468e1f3842fad8297b74f9d8f1,-17415029,-1,-1,0000000000000000000000000000000000000000000000000000000000000000
2015-10-28 04:28:42,200,0,15000103577,2N16oE62ZjAPup985dFBQYAuy5zpDraH7Hk,49000098644,77d1cfeb74917f120ad3c1161ecef678e2031b468e1f3842fad8297b74f9d8f1,17385029,580409,580410,0000000000001733852b8adf9d36ff01f91a5467a78aded26543c70580d4daa5
2015-10-28 04:28:42,200,0,57000109764,mu6paikvq9KzLDCMtRAUKMu7j1FMTfEuqf,49000098644,77d1cfeb74917f120ad3c1161ecef678e2031b468e1f3842fad8297b74f9d8f1,-17415029,580409,580410,0000000000001733852b8adf9d36ff01f91a5467a78aded26543c70580d4daa5
2015-10-28 04:37:25,300,0,15000103577,2N16oE62ZjAPup985dFBQYAuy5zpDraH7Hk,49000098644,77d1cfeb74917f120ad3c1161ecef678e2031b468e1f3842fad8297b74f9d8f1,17385029,580409,580410,0000000000001733852b8adf9d36ff01f91a5467a78aded26543c70580d4daa5
2015-10-28 04:37:25,300,0,57000109764,mu6paikvq9KzLDCMtRAUKMu7j1FMTfEuqf,49000098644,77d1cfeb74917f120ad3c1161ecef678e2031b468e1f3842fad8297b74f9d8f1,-17415029,580409,580410,0000000000001733852b8adf9d36ff01f91a5467a78aded26543c70580d4daa5
2015-10-28 04:37:25,200,0,15000103577,2N16oE62ZjAPup985dFBQYAuy5zpDraH7Hk,49000098644,77d1cfeb74917f120ad3c1161ecef678e2031b468e1f3842fad8297b74f9d8f1,17385029,580409,580411,00000000147175912d0f4db366c31f6b115c0e5294403a99358b9dfe272a1103
2015-10-28 04:37:25,200,0,57000109764,mu6paikvq9KzLDCMtRAUKMu7j1FMTfEuqf,49000098644,77d1cfeb74917f120ad3c1161ecef678e2031b468e1f3842fad8297b74f9d8f1,-17415029,580409,580411,00000000147175912d0f4db366c31f6b115c0e5294403a99358b9dfe272a1103


#
# accept -> reject
#
2015-10-28 08:57:24,100,0,6000109067,2Mv4hvpTuzgv7cRVhASVNBnryVVuqwjYTha,61000098500,1839138c1d2b55534aafaf0b76ed4deaa0380096eeebf382de3e69936ef8903d,-2057551,-1,-1,0000000000000000000000000000000000000000000000000000000000000000
2015-10-28 08:57:24,100,0,31000108716,muHpMz9wuFoZySFHxRAXgk8PsVW5oeikTD,61000098500,1839138c1d2b55534aafaf0b76ed4deaa0380096eeebf382de3e69936ef8903d,54355,-1,-1,0000000000000000000000000000000000000000000000000000000000000000
2015-10-28 08:57:24,100,0,46000109193,2N31MwDtUsWqbo1E4bbH36dvV5482eNJ7e7,61000098500,1839138c1d2b55534aafaf0b76ed4deaa0380096eeebf382de3e69936ef8903d,1993196,-1,-1,0000000000000000000000000000000000000000000000000000000000000000
2015-10-28 08:59:46,400,0,6000109067,2Mv4hvpTuzgv7cRVhASVNBnryVVuqwjYTha,61000098500,1839138c1d2b55534aafaf0b76ed4deaa0380096eeebf382de3e69936ef8903d,-2057551,-1,-1,0000000000000000000000000000000000000000000000000000000000000000
2015-10-28 08:59:46,400,0,31000108716,muHpMz9wuFoZySFHxRAXgk8PsVW5oeikTD,61000098500,1839138c1d2b55534aafaf0b76ed4deaa0380096eeebf382de3e69936ef8903d,54355,-1,-1,0000000000000000000000000000000000000000000000000000000000000000
2015-10-28 08:59:46,400,0,46000109193,2N31MwDtUsWqbo1E4bbH36dvV5482eNJ7e7,61000098500,1839138c1d2b55534aafaf0b76ed4deaa0380096eeebf382de3e69936ef8903d,1993196,-1,-1,0000000000000000000000000000000000000000000000000000000000000000

#
# accept -> confirm -> unconfirm -> reject
#
2015-10-28 04:28:42,100,1,13000105481,2Mx3TZycg4XL5sQFfERBgNmg9Ma7uxowK9y,20000099405,8b910941fff222180f8bb70175b3c14bd92bb072eacf1852fe23393e3c7f3494,1250314001,-1,-1,0000000000000000000000000000000000000000000000000000000000000000
2015-10-28 04:28:42,200,1,13000105481,2Mx3TZycg4XL5sQFfERBgNmg9Ma7uxowK9y,20000099405,8b910941fff222180f8bb70175b3c14bd92bb072eacf1852fe23393e3c7f3494,1250314001,580409,580410,0000000000001733852b8adf9d36ff01f91a5467a78aded26543c70580d4daa5
2015-10-28 04:37:25,300,1,13000105481,2Mx3TZycg4XL5sQFfERBgNmg9Ma7uxowK9y,20000099405,8b910941fff222180f8bb70175b3c14bd92bb072eacf1852fe23393e3c7f3494,1250314001,580409,580410,0000000000001733852b8adf9d36ff01f91a5467a78aded26543c70580d4daa5
2015-10-28 04:37:25,400,1,13000105481,2Mx3TZycg4XL5sQFfERBgNmg9Ma7uxowK9y,20000099405,8b910941fff222180f8bb70175b3c14bd92bb072eacf1852fe23393e3c7f3494,1250314001,580409,580410,0000000000001733852b8adf9d36ff01f91a5467a78aded26543c70580d4daa5
```
